<template>
  <style>
    #toolbar a {
      cursor:pointer;
      font-size:15px;
      margin-left:20px;
      color: #333;
    }
  </style>
  <require from="./date-format"></require>

  <section class="au-animate">
    <h2>
      <i class="fa fa-dashboard"></i>
      Dashboard
    </h2>

    <h3>
      <i class="fa fa-th"></i> Data Stream
      <span style="font-size:15px;font-weight:normal;font-style:italic;padding-left:30px;" if.bind="jobRunning">
        last updated: ${lastUpdated | dateFormat:'h:mm:ss a'}
      </span>
    </h3>
    <div id="toolbar">
      <a if.bind="!jobRunning" click.trigger="startJob()"><i class="fa fa-play"></i> start</a>
      <a if.bind="jobRunning" click.trigger="stopJob()"><i class="fa fa-stop"></i> stop</a>
      <a if.bind="canPrint" click.trigger="printJob()"><i class="fa fa-print"></i> print</a>
    </div>

    <div id="chart" style="width:100%;height:500px"></div>

    <table class="pure-table" id="dataStream">
      <thead>
        <tr>
          <th>time</th>
          <th>value</th>
        </tr>
      </thead>
      <tbody>
        <tr repeat.for="row of dataStream">
          <td>${row.sensor_time | dateFormat:'h:mm:ss a'}</td>
          <td>${row.sensor_value}</td>
        </tr>
      </tbody>
    </table>
  </section>

</template>
